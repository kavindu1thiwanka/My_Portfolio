<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/lvl01_Styles.css">
    <link rel="stylesheet" href="../assets/normalize.css">
</head>
<body class="body">
<main>
    <div class="background"></div>
    <div id="enemyContainer">
        <div>
            <div id="enemy"></div>
        </div>
    </div>
    <div class="bush1"></div>
    <div id="hunter"></div>
    <div id="cursor"></div>
    <img height="150px" width="150px" id="enemy01" src="../assets/Level 1/SVG/red monster.svg">
    <img height="150px" width="75px" id="enemy02" src="../assets/Level 1/SVG/s monster.svg">
    <img height="150px" width="150px" id="enemy03" src="../assets/Level 1/SVG/p monster.svg">
    <div class="score_enemyContainer">
        <div id="scoreBoard">
            <h1>Score : </h1>
            <h1 id="score"> 00</h1>
        </div>
        <div id="enemyRemainCountContainer">
            <h1>Enemies Left : </h1>
            <h1 id="enemyRemainCount">10</h1>
        </div>
    </div>
</main>

<script src="../assets/js/jquery-3.6.1.min.js"></script>
<script>
    //mouse tracking
    $(window).on('mousemove', function (event) {
        $("#cursor").css({'top':event.pageY, 'left':event.pageX});
    });

    var enemyDIV = document.getElementById('enemy');
    let enemiesLeft = $('#enemyRemainCount').text();
    const xDirection = [70,250,400,525,795];
    let lastRandom =-1;
    let lastRandomEnemy =-1;
    let random, enemyS , randomEnemy;

    class Enemy{
        constructor(x,y) {
            this.x = x;
            this.y = y;
        }

        draw(){
            enemyDIV.appendChild(monsters[randomEnemy]);
            enemyDIV.style.position = "absolute";
            enemyDIV.style.left = this.x+'px';
            enemyDIV.style.top = this.y+'px';
        }

    }

    function spawnEnemies(){
        if (enemiesLeft>0){
            console.log("lastRandomEnemy "+lastRandomEnemy);
            random = Math.floor(Math.random() * xDirection.length);
            randomEnemy = Math.floor(Math.random() * monsters.length);

            while (lastRandom==random){
                random = Math.floor(Math.random() * xDirection.length);
            }
            while (lastRandomEnemy==randomEnemy){
                randomEnemy = Math.floor(Math.random() * monsters.length);
            }
            console.log("randomEnemy "+randomEnemy);

            enemyS = new Enemy(xDirection[random],0);
            enemyS.draw();

            lastRandom=random;
            lastRandomEnemy=randomEnemy;
            console.log("lastRandomEnemy "+lastRandomEnemy);

            enemiesLeft=enemiesLeft-1;
            $('#enemyRemainCount').text(enemiesLeft);

        }else if (enemiesLeft==0) {
            //game over seen
            console.log("Game Over");
        }
    }

    enemyDIV.addEventListener('click', function () {
        spawnEnemies();
    },false);

    spawnEnemies();
</script>
</body>
</html>